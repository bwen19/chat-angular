<div>
  <div nz-row class="avatar-template">
    <div nz-col class="avatar-candidates" [nzSpan]="18">
      <div nz-row [nzGutter]="[8, 16]">
        <div nz-col class="gutter-row" [nzSpan]="6" *ngFor="let avatar of avatarCandidates">
          <nz-avatar
            nzIcon="user"
            [nzSize]="50"
            nzShape="square"
            [nzSrc]="avatar"
            [class.active]="newAvatarSrc === avatar"
            (click)="selectAvatar(avatar)"
          ></nz-avatar>
        </div>
      </div>
    </div>
    <div nz-col class="avatar-selected" [nzSpan]="6">
      <p class="text">预览:</p>
      <nz-avatar nzIcon="user" [nzSize]="60" nzShape="square" [nzSrc]="newAvatarSrc"></nz-avatar>
      <nz-upload
        class="avatar-uploader"
        [nzAction]="avatarApi"
        [nzName]="avatarFieldKey"
        [nzShowUploadList]="false"
        [nzBeforeUpload]="beforeUpload"
        (nzChange)="handleChange($event)"
      >
        <button nz-button nzType="default" nzSize="small" nzBlock>
          <i nz-icon nzType="upload"></i>
          上传
        </button></nz-upload
      >
    </div>
  </div>
</div>
<div *nzModalFooter>
  <button nz-button (click)="destroyModal()">取消</button>
  <button nz-button nzType="primary" (click)="updateAvatar()" [nzLoading]="isOkLoading">
    提交
  </button>
</div>
